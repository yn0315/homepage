<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <link rel="stylesheet" href="./css/main.css">
    <script src="/script.js"></script>

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>

<body>

    <header id="header">
        <div class="inner_header">
            <h1 class="logo">
                <a href="http://yn0000.shop">
                    <img id="logo_img" src="/img/logo_img.gif" alt="로고">
                </a>
            </h1>

            <div id="menu">
                <ul class="menu_ul">
                    <li><a href="#">포트폴리오</a></li>
                    <li><a href="#">회사소개</a></li>
                    <li><a href="#">인터뷰작성</a></li>
                </ul>
                <ul id="second_menu" class="menu_ul">
                    <li><a href="#">브랜딩</a></li>
                    <li><a href="#">로고디자인</a></li>
                    <li><a href="#">네이밍</a></li>
                    <li><a href="#">편집디자인</a></li>
                    <li><a href="/homepage">홈페이지</a></li>

                </ul>
                <ul id="third_menu" class="menu_ul">
                    <li><a href="#">공지사항</a></li>
                    <li><a href="#">문의</a></li>
                    <li><a href="#">후기</a></li>

                </ul>
            </div>
            <!-- 파일다운로드 -->
            <a id="file_download" href="/txt/server.txt" target="_blank" download="server.txt">회사소개서 다운</a>

            <div class="tel_no">
                <div>
                    <p>1544-1234</p>
                    <p>평일 9-6시 (점심 01:00 - 2시)</p>
                </div>
            </div>
            <div class="info_box">
                <p>우리 1005-000-000000</p>
                <p>(주)디자인오브</p>
                <p>brand@brand.co.kr</p>
            </div>
            <% if(displayname){ %>
            <ul id="and_page">
                <li><a id="login_logout" href="/logout">LOGOUT</a></li>
                <li><a href="/cart">CART</a></li>
                <li><a href="#">MYPAGE</a></li>
            </ul>
            <!-- <div id ="loginUser" class="">
                
                    <p id="userN"><%= displayname %>님</p>
                </div> -->
                <% }else{ %>
                    <ul id="and_page">
                        <li><a id="login_logout" href="/login">LOGIN</a></li>
                        <li><a href="/join">JOIN</a></li>
                        <li><a href="/cart">CART</a></li>
                        <li><a href="#">MYPAGE</a></li>
                    </ul>
                <% } %>
            

        </div>

        <button id="menu-trigger" type="button" class="">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div id="ham_inner_header" class="invisible">
            <h1 class="ham_logo">
                <a href="http://yn0000.shop">
                    <img id="logo_img" src="/img/logo_img.gif" alt="로고">
                </a>
            </h1>

            <div id="menu">
                <ul class="menu_ul">
                    <li><a href="#">포트폴리오</a></li>
                    <li><a href="#">회사소개</a></li>
                    <li><a href="#">인터뷰작성</a></li>
                </ul>
                <ul id="second_menu" class="menu_ul">
                    <li><a href="#">브랜딩</a></li>
                    <li><a href="#">로고디자인</a></li>
                    <li><a href="#">네이밍</a></li>
                    <li><a href="#">편집디자인</a></li>
                    <li><a href="/homepage">홈페이지</a></li>

                </ul>
                <ul id="third_menu" class="menu_ul">
                    <li><a href="#">공지사항</a></li>
                    <li><a href="#">문의</a></li>
                    <li><a href="#">후기</a></li>

                </ul>
            </div>
            <% if(displayname){ %>
                <ul id="and_page">
                    <li><a id="login_logout" href="/logout">LOGOUT</a></li>
                    <li><a href="#">CART</a></li>
                    <li><a href="#">MYPAGE</a></li>
                </ul>
                <!-- <div id ="loginUser" class="">
                    
                        <p id="userN"><%= displayname %>님</p>
                    </div> -->
                    <% }else{ %>
                        <ul id="and_page">
                            <li><a id="login_logout" href="/login">LOGIN</a></li>
                            <li><a href="/join">JOIN</a></li>
                            <li><a href="/cart">CART</a></li>
                            <li><a href="#">MYPAGE</a></li>
                        </ul>
                    <% } %>
    </header>

    <section id="join">
        <div id="join_outer_box">
            <div id="join_inner_box">
                <form action="/joinAction" method="POST" class="joinForm">

                    <h2>회원가입</h2>
                    <div class="textForm">
                        <input id="id" name="loginId" type="text" class="id" placeholder="아이디">
                        </input>
                    </div>
                    <div class="textForm">
                        <input id="input_password" name="loginPw" type="password" class="pw" placeholder="비밀번호">
                    </div>
                    <div class="textForm">
                        <input id="confirm_password" name="loginPwConfirm" type="password" class="pw"
                            placeholder="비밀번호 확인">

                    </div>
                    <p id="incorrect" class="invisible">불일치</p>
                    <p id="correct" class="invisible">일치</p>
                    <div class="textForm">
                        <input id="name" name="name" type="text" class="name" placeholder="이름">
                    </div>
                    <div class="textForm">
                        <input id="email" name="email" type="text" class="email" placeholder="이메일">
                    </div>

                    <input id="submit" type="button" class="btn" value="가입하기" />
                </form>
            </div>
        </div>
    </section>
    <script>


        const $pw = document.getElementById('confirm_password');
        $pw.addEventListener('keyup', function () {
            password_keyup();

        });

        // pw.keyup(function() {
        //     let pw1 = document.getElementById('#input_password').val;
        //     let pw2 = this.val;

        //     if(pw1 != "" || pw2 != "") {
        //         if(pw1 == pw2) { //일치하면

        //             cor.style.removeClass;
        //             incor.style.
        //         } else { //불일치하면
        //             $('#incorrect').removeClass;

        //         }
        //     }
        // })

        function value() {
            var val = false
            $('#id').val() == null || $('#id').val() == 'undefined' || $('#id').val() == '' ? alert('아이디를 입력해주세요.') :
                $('#input_password').val() == null || $('#input_password').val() == 'undefined' || $('#input_password').val() == '' ? alert('비밀번호를 입력해주세요.') :
                    $('#name').val() == null || $('#name').val() == 'undefined' || $('#name').val() == '' ? alert('이름을 입력해주세요.') :
                        $('#email').val() == null || $('#email').val() == 'undefined' || $('#email').val() == '' ? alert('email 을 입력해주세요.') : val = true;

            return val;
        }
        $('#submit').on('click', function () {
            if (value()) {

                var param = {
                    "id": $('#id').val(),
                    "pw": $('#input_password').val(),
                    "name": $('#name').val(),
                    "email": $('#email').val()
    
                }
                console.log(param);
                var rvalue = new Array();
                $.ajax({
                    type: "post",
                    url: "/joinAction",
                    data: param,
                    async: false,
                    success: function (data) {
                        console.log(data);
                        alert('가입이 완료되었습니다.');
                        window.location.replace("http://yn0000.shop");
                    },
                    error: function (e) {
                        alert(e.reponseText);
                    }
                });


            }

        })

        $('#menu-trigger').on('click', function (e) {
        {
            // e.preventDefault();
            const $hamburgerMenu = document.getElementById('ham_inner_header');
            if ($hamburgerMenu.className === "invisible") {
                $hamburgerMenu.className = "visible";
                $hamburgerMenu.style.opacity = "1";
                $hamburgerMenu.style.zIndex = "1000";
                $hamburgerMenu.style.width = "220px";
                // $hamburgerMenu.style.width = '220px';

            } else {
                $hamburgerMenu.className = "invisible";
            }
            // $hamburgerMenu.classList.toggle = "invisible";
            // $hamburgerMenu.style.display="inline-block";

        }
    })

    </script>
</body>

</html>